# 微信小程序功能文档

## 1. 功能概述

心理健康平台微信小程序端是面向普通用户的移动端应用，旨在提供便捷的心理健康服务，包括心理咨询预约、课程学习、心理测评、社区互动等功能。本文档详细描述微信小程序端的各项功能及其实现要点。

### 1.1 目标用户

- 有心理咨询需求的个人用户
- 希望学习心理健康知识的用户
- 需要进行心理测评的用户
- 寻求心理支持社区的用户

### 1.2 应用场景

- 用户在线预约心理咨询
- 用户学习心理健康相关课程
- 用户进行心理健康自测
- 用户参与心理健康社区讨论
- 用户管理个人心理健康档案

## 2. 功能模块详解

### 2.1 用户认证模块

#### 2.1.1 登录/注册

- **微信授权登录**
  - 用户可通过微信授权快速登录/注册
  - 获取用户基本信息（头像、昵称）
  - 生成平台唯一用户标识

- **手机号登录**
  - 支持手机号+验证码登录
  - 手机号验证与绑定
  - 密码设置与修改

- **账号注册**
  - 收集用户基本信息（姓名、性别、年龄等）
  - 用户协议与隐私政策确认
  - 完善个人信息（可选）

#### 2.1.2 个人信息管理

- **个人资料查看与编辑**
  - 基本信息（姓名、性别、年龄、职业等）
  - 联系方式（手机号、邮箱等）
  - 头像上传与修改

- **账号安全**
  - 密码修改
  - 手机号变更
  - 账号注销

### 2.2 咨询师浏览与预约模块

#### 2.2.1 咨询师列表

- **咨询师浏览**
  - 支持分页加载咨询师列表
  - 显示咨询师基本信息（头像、姓名、职称、评分等）
  - 支持按专长、评分、价格等排序

- **咨询师筛选**
  - 按专业方向筛选（如婚恋、职场、青少年等）
  - 按价格区间筛选
  - 按评分筛选
  - 按咨询方式筛选（线上/线下）

- **咨询师搜索**
  - 支持关键词搜索
  - 搜索历史记录

#### 2.2.2 咨询师详情

- **基本信息展示**
  - 咨询师头像、姓名、职称
  - 专业背景与资质
  - 擅长领域与咨询方向
  - 咨询价格与方式

- **评价展示**
  - 用户评价列表
  - 综合评分
  - 标签统计（如"专业""耐心""有帮助"等）

- **收藏功能**
  - 添加/取消收藏
  - 收藏列表管理

#### 2.2.3 预约流程

- **时间选择**
  - 可预约日期展示
  - 可预约时间段选择
  - 已约满时间段标记

- **预约信息填写**
  - 咨询类型选择
  - 咨询问题描述
  - 特殊需求备注

- **预约确认**
  - 预约信息确认
  - 预约须知展示
  - 费用计算与展示

- **支付流程**
  - 支付方式选择
  - 微信支付集成
  - 支付结果反馈

#### 2.2.4 预约管理

- **预约列表**
  - 全部预约记录
  - 按状态分类（待支付、待确认、已确认、已完成、已取消）
  - 支持筛选与搜索

- **预约详情**
  - 预约基本信息
  - 咨询师信息
  - 预约状态与流程
  - 支付信息

- **预约操作**
  - 取消预约
  - 修改预约
  - 预约提醒设置

### 2.3 课程学习模块

#### 2.3.1 课程列表

- **课程分类浏览**
  - 按类别展示课程
  - 推荐课程展示
  - 热门课程排行

- **课程筛选**
  - 按类别筛选
  - 按难度筛选
  - 按价格筛选（免费/付费）
  - 按评分筛选

- **课程搜索**
  - 关键词搜索
  - 搜索历史记录
  - 热门搜索推荐

#### 2.3.2 课程详情

- **课程基本信息**
  - 课程封面、标题、简介
  - 讲师信息
  - 课程评分与学习人数
  - 课程价格

- **课程大纲**
  - 章节列表
  - 学习进度标记
  - 内容预览

- **用户评价**
  - 评价列表
  - 评分分布
  - 评价标签

- **相关推荐**
  - 相关课程推荐
  - 同系列课程推荐

#### 2.3.3 课程学习

- **视频播放**
  - 支持多种清晰度
  - 播放控制（暂停、快进、倍速等）
  - 全屏模式

- **课程笔记**
  - 笔记创建与编辑
  - 笔记列表查看
  - 笔记分享

- **学习进度**
  - 进度自动保存
  - 断点续播
  - 学习统计

- **课程互动**
  - 课程评论
  - 问题提问
  - 学习讨论

#### 2.3.4 课程收藏与购买

- **收藏管理**
  - 添加/取消收藏
  - 收藏列表查看

- **课程购买**
  - 购买流程
  - 支付方式选择
  - 订单生成与管理

### 2.4 订单与支付模块

#### 2.4.1 订单创建

- **订单生成**
  - 咨询预约订单
  - 课程购买订单
  - 其他服务订单

- **订单信息**
  - 订单编号
  - 商品信息
  - 价格明细
  - 订单状态

#### 2.4.2 支付流程

- **支付方式**
  - 微信支付
  - 余额支付（如适用）
  - 优惠券使用

- **支付确认**
  - 支付金额确认
  - 支付安全提示
  - 支付结果反馈

- **支付结果处理**
  - 支付成功处理
  - 支付失败处理
  - 订单状态更新

#### 2.4.3 订单管理

- **订单列表**
  - 全部订单
  - 按类型分类（咨询订单、课程订单等）
  - 按状态分类（待支付、已支付、已完成、已取消等）

- **订单详情**
  - 订单基本信息
  - 商品详情
  - 支付信息
  - 订单状态与流程

- **订单操作**
  - 取消订单
  - 申请退款
  - 订单评价

### 2.5 心理测评模块

#### 2.5.1 测评列表

- **测评分类**
  - 按类别展示测评
  - 推荐测评
  - 热门测评

- **测评筛选**
  - 按类别筛选
  - 按时长筛选
  - 按难度筛选

#### 2.5.2 测评详情

- **测评介绍**
  - 测评名称、简介
  - 适用人群
  - 测评时长
  - 测评说明

- **开始测评**
  - 测评须知
  - 隐私声明
  - 开始按钮

#### 2.5.3 测评过程

- **问题展示**
  - 题目内容
  - 选项展示
  - 进度指示

- **答案收集**
  - 选择记录
  - 答案验证
  - 进度保存

#### 2.5.4 测评结果

- **结果分析**
  - 测评得分
  - 结果解读
  - 专业建议

- **结果分享**
  - 分享到社交媒体
  - 保存到相册

- **历史记录**
  - 测评历史列表
  - 结果对比
  - 变化趋势

### 2.6 互动社区模块

#### 2.6.1 群组浏览

- **群组列表**
  - 推荐群组
  - 热门群组
  - 我的群组

- **群组筛选**
  - 按类别筛选
  - 按活跃度筛选
  - 按成员数筛选

- **群组搜索**
  - 关键词搜索
  - 搜索历史

#### 2.6.2 群组详情

- **群组信息**
  - 群组名称、简介
  - 成员数量
  - 活跃度
  - 群规则

- **成员列表**
  - 管理员标识
  - 成员头像与昵称
  - 成员活跃度

- **加入/退出**
  - 申请加入
  - 退出群组
  - 邀请好友

#### 2.6.3 群组互动

- **话题列表**
  - 置顶话题
  - 最新话题
  - 热门话题

- **话题详情**
  - 话题内容
  - 评论列表
  - 点赞功能

- **发布内容**
  - 发布话题
  - 评论回复
  - 图片上传

### 2.7 个人中心模块

#### 2.7.1 个人主页

- **用户信息**
  - 头像、昵称
  - 个人简介
  - 会员等级（如适用）

- **数据统计**
  - 学习时长
  - 完成课程数
  - 参与测评数

- **快捷入口**
  - 我的预约
  - 我的课程
  - 我的收藏
  - 我的订单

#### 2.7.2 收藏管理

- **收藏列表**
  - 收藏的咨询师
  - 收藏的课程
  - 收藏的文章

- **收藏操作**
  - 取消收藏
  - 批量管理
  - 分类查看

#### 2.7.3 学习记录

- **课程学习记录**
  - 学习中的课程
  - 已完成的课程
  - 学习进度统计

- **测评记录**
  - 测评历史
  - 测评结果查看
  - 测评趋势分析

#### 2.7.4 评价管理

- **评价列表**
  - 已评价内容
  - 待评价内容

- **评价操作**
  - 发表评价
  - 修改评价
  - 删除评价

## 3. 用户角色与权限

### 3.1 普通用户

- 浏览所有公开内容
- 预约咨询服务
- 购买和学习课程
- 参与心理测评
- 加入群组并参与互动
- 管理个人信息和订单

### 3.2 VIP用户（如适用）

- 普通用户所有权限
- 专享课程内容
- 优先预约权
- 专属优惠
- 特殊标识

## 4. 关键流程

### 4.1 咨询预约流程

1. 用户浏览咨询师列表
2. 选择咨询师查看详情
3. 选择可预约时间段
4. 填写预约信息
5. 确认预约信息并创建订单
6. 完成支付
7. 系统确认预约成功
8. 预约提醒（预约前24小时）
9. 完成咨询服务
10. 用户评价

### 4.2 课程购买与学习流程

1. 用户浏览课程列表
2. 选择课程查看详情
3. 点击购买课程
4. 确认订单信息
5. 完成支付
6. 进入课程学习页面
7. 按章节学习课程内容
8. 完成课程学习
9. 用户评价

### 4.3 心理测评流程

1. 用户浏览测评列表
2. 选择测评查看详情
3. 开始测评
4. 回答测评问题
5. 提交测评答案
6. 生成测评结果
7. 查看结果分析
8. 保存或分享结果

## 5. 技术实现要点

### 5.1 微信小程序框架

- 使用微信小程序原生开发框架
- 遵循微信小程序设计规范
- 合理使用组件和API

### 5.2 页面布局与交互

- 采用清晰简洁的UI设计
- 保证页面加载速度和响应性
- 实现流畅的页面切换和动画效果

### 5.3 数据存储与缓存

- 合理使用本地存储
- 实现数据缓存策略
- 确保敏感数据安全

### 5.4 网络请求

- 封装统一的请求方法
- 实现请求拦截和响应处理
- 处理网络异常情况

### 5.5 用户认证与安全

- 实现安全的登录认证机制
- 使用Token进行身份验证
- 保护用户隐私数据

## 6. 接口依赖

### 6.1 用户认证接口

- `/api/login` - 用户登录
- `/api/login/wx` - 微信授权登录
- `/api/login/phone` - 手机号登录
- `/api/user` - 用户信息管理

### 6.2 咨询师与预约接口

- `/api/counselor` - 咨询师列表和详情
- `/api/appointment` - 预约管理
- `/api/time-slots` - 可预约时间段

### 6.3 课程接口

- `/api/course` - 课程列表和详情
- `/api/course-outline` - 课程大纲
- `/api/user-favorite` - 收藏管理

### 6.4 订单与支付接口

- `/api/order` - 订单管理
- `/api/pay` - 支付处理

### 6.5 其他接口

- `/api/review` - 评价管理
- `/api/banner` - 轮播图
- `/api/announcement` - 公告
- `/api/group` - 群组管理
- `/api/file` - 文件上传

## 7. 页面规划

### 7.1 主要页面

- 首页 - `/pages/index`
- 登录页 - `/pages/login/login`
- 咨询师列表页 - `/pages/counselor/list`
- 咨询师详情页 - `/pages/counselor/detail`
- 预约页 - `/pages/appointment/create`
- 预约列表页 - `/pages/appointment/list`
- 预约详情页 - `/pages/appointment/detail`
- 课程列表页 - `/pages/course/list`
- 课程详情页 - `/pages/course/detail`
- 课程学习页 - `/pages/course/study`
- 订单列表页 - `/pages/order/list`
- 订单详情页 - `/pages/order/detail`
- 支付页 - `/pages/pay/index`
- 测评列表页 - `/pages/assessment/list`
- 测评详情页 - `/pages/assessment/detail`
- 测评进行页 - `/pages/assessment/process`
- 测评结果页 - `/pages/assessment/result`
- 群组列表页 - `/pages/group/list`
- 群组详情页 - `/pages/group/detail`
- 个人中心页 - `/pages/profile/index`
- 个人信息编辑页 - `/pages/profile/edit`
- 收藏列表页 - `/pages/favorite/list`
- 评价管理页 - `/pages/review/list`

### 7.2 组件规划

- 导航栏组件 - `/components/navigation-bar`
- 底部标签栏组件 - `/components/tab-bar`
- 咨询师卡片组件 - `/components/counselor-card`
- 咨询师列表组件 - `/components/counselor-list`
- 课程卡片组件 - `/components/course-card`
- 课程列表组件 - `/components/course-list`
- 轮播图组件 - `/components/banner`
- 服务网格组件 - `/components/service-grid`
- 工作空间卡片组件 - `/components/workspace-card`
- 工作空间列表组件 - `/components/workspace-list`
- 容器组件 - `/components/container`

## 8. 开发与测试建议

### 8.1 开发建议

- 采用模块化开发方式
- 遵循微信小程序开发规范
- 注重代码复用和组件化
- 优先实现核心功能，逐步迭代完善

### 8.2 测试建议

- 进行功能测试，确保所有功能正常工作
- 进行性能测试，确保页面加载速度和响应性
- 进行兼容性测试，确保在不同设备上正常显示
- 进行用户体验测试，优化交互流程

## 9. 上线与运维

### 9.1 上线准备

- 完成小程序信息设置
- 提交小程序代码审核
- 准备上线宣传材料

### 9.2 运维建议

- 定期更新小程序版本
- 监控小程序性能和用户反馈
- 分析用户行为数据，持续优化体验 