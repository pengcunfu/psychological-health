# 管理后台功能文档

## 1. 功能概述

心理健康平台管理后台是面向管理员和咨询师的PC端应用，旨在提供系统管理、数据分析、内容管理等功能。管理后台作为整个平台的核心控制中心，为微信小程序端和其他前端提供数据支持和业务管理能力。本文档详细描述管理后台的各项功能及其实现要点。

### 1.1 目标用户

- 系统管理员：负责整个系统的配置和维护
- 内容管理员：负责平台内容的审核和发布
- 咨询师：提供心理咨询服务的专业人员
- 运营人员：负责平台运营和数据分析

### 1.2 应用场景

- 系统配置与维护
- 用户管理与权限控制
- 内容审核与发布
- 咨询预约管理
- 课程管理
- 订单管理与财务统计
- 数据分析与报表生成

## 2. 功能模块详解

### 2.1 系统管理模块

#### 2.1.1 用户管理

- **用户列表**
  - 展示所有用户信息
  - 支持分页、排序和筛选
  - 用户详细信息查看

- **用户操作**
  - 创建新用户
  - 编辑用户信息
  - 禁用/启用用户
  - 重置用户密码

- **用户搜索**
  - 按用户名、手机号、邮箱等搜索
  - 高级搜索条件组合

#### 2.1.2 角色管理

- **角色列表**
  - 展示所有角色及其描述
  - 角色关联用户数量统计
  - 角色详情查看

- **角色操作**
  - 创建新角色
  - 编辑角色信息
  - 删除角色
  - 复制角色

- **权限分配**
  - 为角色分配菜单权限
  - 为角色分配操作权限
  - 为角色分配数据权限
  - 权限预览

#### 2.1.3 菜单管理

- **菜单列表**
  - 以树形结构展示菜单
  - 菜单层级关系展示
  - 菜单详情查看

- **菜单操作**
  - 创建菜单/子菜单
  - 编辑菜单信息
  - 删除菜单
  - 菜单排序

- **菜单配置**
  - 设置菜单图标
  - 设置菜单路由
  - 设置菜单权限标识
  - 设置菜单显示状态

#### 2.1.4 系统配置

- **基础配置**
  - 系统名称、Logo设置
  - 系统主题配置
  - 系统公告设置
  - 联系方式配置

- **安全配置**
  - 密码策略设置
  - 登录策略设置
  - IP白名单/黑名单
  - 敏感操作设置

- **日志管理**
  - 操作日志查询
  - 登录日志查询
  - 系统异常日志
  - 日志导出

### 2.2 咨询师管理模块

#### 2.2.1 咨询师信息管理

- **咨询师列表**
  - 展示所有咨询师信息
  - 按专业方向、状态等筛选
  - 咨询师详情查看

- **咨询师操作**
  - 添加咨询师
  - 编辑咨询师信息
  - 审核咨询师资质
  - 启用/禁用咨询师

- **资质管理**
  - 上传资质证书
  - 资质审核流程
  - 资质有效期管理
  - 资质证书查看

#### 2.2.2 排班管理

- **排班设置**
  - 设置可预约时间段
  - 批量设置工作时间
  - 设置特殊工作日/休息日
  - 设置最大预约人数

- **排班查看**
  - 日历视图展示排班
  - 列表视图展示排班
  - 冲突检测与提示
  - 排班导出

- **休假管理**
  - 申请休假
  - 休假审批
  - 休假日历
  - 自动调整受影响的预约

#### 2.2.3 咨询师评价管理

- **评价列表**
  - 展示所有咨询师评价
  - 按评分、时间等筛选
  - 评价详情查看

- **评价操作**
  - 回复评价
  - 隐藏/显示评价
  - 标记违规评价
  - 评价导出

- **评价统计**
  - 评分分布统计
  - 评价标签统计
  - 评价趋势分析
  - 咨询师评价排名

### 2.3 预约管理模块

#### 2.3.1 预约列表

- **预约查看**
  - 所有预约记录列表
  - 按状态、时间、咨询师等筛选
  - 预约详情查看

- **预约操作**
  - 创建预约
  - 修改预约信息
  - 取消预约
  - 完成预约

- **预约搜索**
  - 按用户名、咨询师名称搜索
  - 按预约编号搜索
  - 高级搜索条件组合

#### 2.3.2 预约状态管理

- **状态更新**
  - 待确认→已确认
  - 已确认→进行中
  - 进行中→已完成
  - 各状态→已取消

- **状态通知**
  - 预约确认通知
  - 预约提醒通知
  - 预约取消通知
  - 预约完成通知

- **异常处理**
  - 处理超时未确认预约
  - 处理用户爽约情况
  - 处理咨询师爽约情况
  - 紧急情况处理流程

#### 2.3.3 预约统计分析

- **预约量统计**
  - 日/周/月/年预约量统计
  - 按咨询师统计预约量
  - 按咨询类型统计预约量
  - 预约趋势分析

- **完成率分析**
  - 预约完成率统计
  - 取消率统计
  - 爽约率统计
  - 异常情况分析

- **满意度分析**
  - 预约满意度统计
  - 咨询师满意度排名
  - 满意度趋势分析
  - 问题反馈分析

### 2.4 课程管理模块

#### 2.4.1 课程信息管理

- **课程列表**
  - 所有课程列表展示
  - 按类别、状态等筛选
  - 课程详情查看

- **课程操作**
  - 创建新课程
  - 编辑课程信息
  - 上架/下架课程
  - 删除课程

- **课程内容管理**
  - 上传课程封面
  - 编辑课程简介
  - 设置课程价格
  - 设置课程标签

#### 2.4.2 课程大纲管理

- **章节管理**
  - 创建课程章节
  - 编辑章节信息
  - 章节排序
  - 删除章节

- **课时管理**
  - 创建课时
  - 上传课时视频/文档
  - 编辑课时信息
  - 设置是否免费试看

- **学习资料**
  - 上传课程资料
  - 资料分类管理
  - 资料下载设置
  - 资料更新管理

#### 2.4.3 课程数据分析

- **学习数据**
  - 学习人数统计
  - 完成率统计
  - 平均学习时长
  - 学习进度分布

- **评价数据**
  - 课程评分统计
  - 评价内容分析
  - 评价标签统计
  - 改进建议收集

- **销售数据**
  - 课程销售额统计
  - 销售趋势分析
  - 转化率分析
  - ROI分析

### 2.5 订单管理模块

#### 2.5.1 订单列表

- **订单查看**
  - 所有订单列表
  - 按类型、状态等筛选
  - 订单详情查看

- **订单操作**
  - 创建订单
  - 修改订单信息
  - 取消订单
  - 完成订单

- **订单搜索**
  - 按订单号搜索
  - 按用户名搜索
  - 按商品名称搜索
  - 高级搜索条件组合

#### 2.5.2 订单状态管理

- **状态更新**
  - 待支付→已支付
  - 已支付→已完成
  - 各状态→已取消
  - 退款处理

- **状态通知**
  - 订单创建通知
  - 支付成功通知
  - 订单取消通知
  - 退款通知

- **异常处理**
  - 处理支付异常
  - 处理退款异常
  - 处理订单冲突
  - 手动调整订单状态

#### 2.5.3 订单统计分析

- **销售额统计**
  - 日/周/月/年销售额统计
  - 按商品类型统计销售额
  - 按支付方式统计
  - 销售趋势分析

- **订单量统计**
  - 订单量统计
  - 平均订单金额
  - 订单转化率
  - 订单完成率

- **退款分析**
  - 退款率统计
  - 退款原因分析
  - 退款金额统计
  - 高风险商品分析

### 2.6 内容管理模块

#### 2.6.1 公告管理

- **公告列表**
  - 所有公告列表
  - 按状态、类型等筛选
  - 公告详情查看

- **公告操作**
  - 创建公告
  - 编辑公告内容
  - 发布/撤回公告
  - 删除公告

- **公告设置**
  - 设置公告优先级
  - 设置公告展示位置
  - 设置公告有效期
  - 设置公告目标用户群体

#### 2.6.2 轮播图管理

- **轮播图列表**
  - 所有轮播图列表
  - 按状态、位置等筛选
  - 轮播图预览

- **轮播图操作**
  - 上传轮播图
  - 编辑轮播图信息
  - 设置轮播图顺序
  - 启用/禁用轮播图

- **轮播图设置**
  - 设置跳转链接
  - 设置展示时间
  - 设置展示位置
  - 设置目标用户群体

#### 2.6.3 分类管理

- **分类列表**
  - 以树形结构展示分类
  - 分类层级关系展示
  - 分类详情查看

- **分类操作**
  - 创建分类/子分类
  - 编辑分类信息
  - 删除分类
  - 分类排序

- **分类应用**
  - 课程分类设置
  - 咨询师专业方向分类
  - 测评分类
  - 文章分类

#### 2.6.4 疾病标签管理

- **标签列表**
  - 所有疾病标签列表
  - 按类型、使用频率等筛选
  - 标签详情查看

- **标签操作**
  - 创建标签
  - 编辑标签信息
  - 删除标签
  - 标签合并

- **标签应用**
  - 咨询师专长标签
  - 课程关联标签
  - 文章关联标签
  - 用户问题标签

### 2.7 群组管理模块

#### 2.7.1 群组信息管理

- **群组列表**
  - 所有群组列表
  - 按类型、活跃度等筛选
  - 群组详情查看

- **群组操作**
  - 创建群组
  - 编辑群组信息
  - 解散群组
  - 群组公告管理

- **群组设置**
  - 设置群组类型
  - 设置加入方式
  - 设置成员上限
  - 设置群组规则

#### 2.7.2 群组成员管理

- **成员列表**
  - 群组成员列表
  - 成员角色展示
  - 成员活跃度展示

- **成员操作**
  - 添加成员
  - 设置成员角色
  - 移除成员
  - 禁言/解除禁言

- **成员审核**
  - 加入申请审核
  - 批量审核处理
  - 审核记录查看
  - 黑名单管理

#### 2.7.3 群组内容审核

- **内容列表**
  - 群组话题列表
  - 群组评论列表
  - 按状态、类型等筛选
  - 内容详情查看

- **内容操作**
  - 审核内容
  - 置顶/取消置顶
  - 删除内容
  - 内容警告标记

- **违规处理**
  - 违规内容识别
  - 违规用户处理
  - 违规记录管理
  - 自动审核规则设置

### 2.8 工作空间管理模块

#### 2.8.1 工作空间信息管理

- **工作空间列表**
  - 所有工作空间列表
  - 按类型、状态等筛选
  - 工作空间详情查看

- **工作空间操作**
  - 创建工作空间
  - 编辑工作空间信息
  - 启用/禁用工作空间
  - 删除工作空间

- **工作空间设置**
  - 设置工作空间类型
  - 设置工作空间容量
  - 设置工作空间权限
  - 设置工作空间特性

#### 2.8.2 工作空间分配

- **分配管理**
  - 为咨询师分配工作空间
  - 为课程分配工作空间
  - 为群组分配工作空间
  - 批量分配管理

- **使用统计**
  - 工作空间使用率统计
  - 使用时长统计
  - 使用频率统计
  - 使用效果分析

- **资源管理**
  - 工作空间资源配置
  - 资源使用监控
  - 资源调整优化
  - 资源使用报告

### 2.9 数据统计与分析模块

#### 2.9.1 用户数据分析

- **用户增长**
  - 新增用户统计
  - 用户增长趋势
  - 用户来源分析
  - 用户留存分析

- **用户活跃度**
  - 日活/月活统计
  - 用户访问频次
  - 用户停留时长
  - 活跃用户分布

- **用户画像**
  - 用户年龄分布
  - 用户性别分布
  - 用户地域分布
  - 用户兴趣标签

#### 2.9.2 业务数据分析

- **预约数据**
  - 预约量趋势
  - 预约完成率
  - 咨询师工作量
  - 高峰期分析

- **课程数据**
  - 课程销售趋势
  - 课程学习情况
  - 课程完成率
  - 热门课程分析

- **订单数据**
  - 销售额趋势
  - 客单价分析
  - 支付方式分布
  - 退款率分析

#### 2.9.3 报表管理

- **报表生成**
  - 日/周/月/年报表
  - 自定义报表
  - 报表模板管理
  - 定时报表设置

- **报表查看**
  - 图表可视化展示
  - 数据表格展示
  - 数据对比分析
  - 数据导出

- **报表分享**
  - 报表导出为PDF/Excel
  - 报表发送邮件
  - 报表访问权限设置
  - 报表订阅管理

## 3. 用户角色与权限

### 3.1 超级管理员

- 拥有系统所有功能的操作权限
- 管理其他管理员账号
- 设置系统全局配置
- 查看所有数据和统计报表

### 3.2 系统管理员

- 管理用户、角色和菜单
- 查看系统日志
- 管理系统配置
- 无法修改超级管理员信息

### 3.3 内容管理员

- 管理公告、轮播图等内容
- 审核用户发布的内容
- 管理分类和标签
- 无法访问系统管理功能

### 3.4 咨询师

- 管理个人信息和排班
- 查看和处理预约
- 查看自己的评价
- 管理自己的课程

### 3.5 财务人员

- 查看和管理订单
- 处理退款申请
- 查看财务报表
- 无法访问其他业务功能

## 4. 关键流程

### 4.1 用户管理流程

1. 管理员登录系统
2. 进入用户管理页面
3. 创建/编辑用户信息
4. 为用户分配角色
5. 设置用户状态
6. 保存用户信息

### 4.2 预约管理流程

1. 管理员/咨询师登录系统
2. 查看预约列表
3. 确认新预约
4. 更新预约状态
5. 处理异常情况
6. 完成预约服务

### 4.3 课程发布流程

1. 管理员/咨询师登录系统
2. 创建新课程
3. 填写课程基本信息
4. 上传课程封面和介绍
5. 创建课程大纲和章节
6. 上传课程内容
7. 设置课程价格
8. 审核课程内容
9. 发布课程

### 4.4 订单处理流程

1. 管理员登录系统
2. 查看订单列表
3. 确认订单支付状态
4. 处理订单异常情况
5. 完成订单
6. 处理退款申请（如有）

### 4.5 数据分析流程

1. 管理员登录系统
2. 进入数据分析页面
3. 选择分析维度和时间范围
4. 生成数据图表
5. 分析数据趋势
6. 导出分析报表

## 5. 技术实现要点

### 5.1 前端框架

- 使用Vue.js作为前端框架
- 采用Element UI组件库
- 使用Vuex进行状态管理
- 使用Vue Router进行路由管理

### 5.2 页面布局与交互

- 采用响应式布局设计
- 实现左侧菜单、顶部导航的布局结构
- 使用面包屑导航提升用户体验
- 实现表格数据的排序、筛选和分页

### 5.3 数据可视化

- 使用ECharts实现数据图表展示
- 支持多种图表类型（柱状图、折线图、饼图等）
- 实现图表的交互功能
- 支持图表数据导出

### 5.4 权限控制

- 基于RBAC模型实现权限控制
- 实现菜单级别的权限控制
- 实现按钮级别的权限控制
- 实现数据级别的权限控制

### 5.5 表单处理

- 实现复杂表单的数据验证
- 支持表单数据的保存与恢复
- 实现表单的动态渲染
- 支持文件上传与预览

## 6. 接口依赖

### 6.1 用户认证接口

- `/api/login` - 用户登录
- `/api/logout` - 用户登出
- `/api/user/info` - 获取当前用户信息
- `/api/user/password` - 修改密码

### 6.2 系统管理接口

- `/api/user` - 用户管理
- `/api/role` - 角色管理
- `/api/menu` - 菜单管理
- `/api/log` - 日志管理

### 6.3 业务管理接口

- `/api/counselor` - 咨询师管理
- `/api/appointment` - 预约管理
- `/api/course` - 课程管理
- `/api/order` - 订单管理

### 6.4 内容管理接口

- `/api/announcement` - 公告管理
- `/api/banner` - 轮播图管理
- `/api/category` - 分类管理
- `/api/disease-tags` - 疾病标签管理

### 6.5 数据分析接口

- `/api/stat/user` - 用户数据统计
- `/api/stat/appointment` - 预约数据统计
- `/api/stat/course` - 课程数据统计
- `/api/stat/order` - 订单数据统计

## 7. 页面规划

### 7.1 主要页面

- 登录页 - `/login`
- 首页/控制台 - `/dashboard`
- 用户管理 - `/system/user`
- 角色管理 - `/system/role`
- 菜单管理 - `/system/menu`
- 咨询师管理 - `/counselor`
- 预约管理 - `/appointment`
- 课程管理 - `/course`
- 订单管理 - `/order`
- 公告管理 - `/content/announcement`
- 轮播图管理 - `/content/banner`
- 分类管理 - `/content/category`
- 标签管理 - `/content/tag`
- 群组管理 - `/group`
- 工作空间管理 - `/workspace`
- 数据分析 - `/statistics`

### 7.2 组件规划

- 头部导航组件 - `components/Header`
- 侧边菜单组件 - `components/Sidebar`
- 面包屑导航组件 - `components/Breadcrumb`
- 数据表格组件 - `components/Table`
- 搜索表单组件 - `components/SearchForm`
- 编辑表单组件 - `components/EditForm`
- 文件上传组件 - `components/Upload`
- 图表组件 - `components/Chart`
- 权限按钮组件 - `components/PermissionButton`
- 状态标签组件 - `components/StatusTag`

## 8. 开发与测试建议

### 8.1 开发建议

- 采用模块化、组件化的开发方式
- 遵循前后端分离的开发模式
- 注重代码复用和可维护性
- 实现统一的错误处理机制

### 8.2 测试建议

- 进行功能测试，确保所有功能正常工作
- 进行权限测试，确保权限控制有效
- 进行性能测试，确保系统响应迅速
- 进行兼容性测试，确保在主流浏览器中正常运行

## 9. 部署与运维

### 9.1 部署要求

- 支持前后端分离部署
- 支持Nginx作为静态资源服务器
- 支持Docker容器化部署
- 支持CI/CD自动化部署

### 9.2 运维建议

- 实现系统监控和告警机制
- 定期备份数据库和关键数据
- 实现系统日志收集和分析
- 制定系统升级和维护计划 