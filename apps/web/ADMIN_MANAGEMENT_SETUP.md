# 心理健康平台 - 管理系统

本文档描述了心理健康平台管理系统的功能模块、技术架构和使用说明。

## 1. 功能概述

心理健康平台管理系统提供了全面的后台管理功能，包括：

- **用户管理**：管理系统用户，包括普通用户、咨询师和管理员
- **咨询师管理**：管理咨询师信息、资质、排班等
- **课程管理**：管理心理健康课程的创建、编辑和发布
- **订单管理**：查看和处理用户订单，包括咨询预约和课程购买
- **公告管理**：发布和管理系统公告
- **评价管理**：管理和审核用户评价
- **分类管理**：管理系统中的各类分类信息
- **预约管理**：管理咨询预约，包括确认、取消和改期等操作

## 2. 技术架构

### 2.1 前端技术栈

- **Vue 3**：核心前端框架
- **Vue Router 4**：路由管理
- **Ant Design Vue**：UI组件库
- **Axios**：HTTP请求库
- **Dayjs**：日期处理库

### 2.2 后端接口

后端API基于RESTful风格设计，主要包括以下模块：

- `/api/user` - 用户管理接口
- `/api/counselor` - 咨询师管理接口
- `/api/course` - 课程管理接口
- `/api/order` - 订单管理接口
- `/api/announcement` - 公告管理接口
- `/api/review` - 评价管理接口
- `/api/category` - 分类管理接口
- `/api/appointment` - 预约管理接口

## 3. 功能模块详情

### 3.1 用户管理

**功能：**
- 用户列表展示（分页、搜索、筛选）
- 用户详情查看
- 添加/编辑用户
- 删除用户
- 修改用户状态
- 重置密码

**主要文件：**
- `src/views/admin/UserManagement.vue`

### 3.2 咨询师管理

**功能：**
- 咨询师列表展示（分页、搜索、筛选）
- 咨询师详情查看
- 添加/编辑咨询师信息
- 删除咨询师
- 修改咨询师状态
- 查看咨询师评价

**主要文件：**
- `src/views/admin/CounselorManagement.vue`

### 3.3 课程管理

**功能：**
- 课程列表展示（分页、搜索、筛选）
- 课程详情查看
- 添加/编辑课程
- 删除课程
- 课程状态管理（草稿、已发布、已归档）
- 课程封面上传

**主要文件：**
- `src/views/admin/CourseManagement.vue`

### 3.4 订单管理

**功能：**
- 订单列表展示（分页、搜索、筛选）
- 订单详情查看
- 订单状态更新
- 订单取消/退款处理

**主要文件：**
- `src/views/admin/OrderManagement.vue`

### 3.5 公告管理

**功能：**
- 公告列表展示（分页、搜索、筛选）
- 公告详情查看
- 发布/编辑公告
- 删除公告
- 公告状态管理（草稿、已发布、已归档）
- 公告置顶设置
- 公告有效期设置

**主要文件：**
- `src/views/admin/AnnouncementManagement.vue`

### 3.6 评价管理

**功能：**
- 评价列表展示（分页、搜索、筛选）
- 评价详情查看
- 评价审核（通过/拒绝）
- 删除评价

**主要文件：**
- `src/views/admin/ReviewManagement.vue`

### 3.7 分类管理

**功能：**
- 分类列表展示（分页、搜索、筛选）
- 分类详情查看
- 添加/编辑分类
- 删除分类
- 分类状态管理（启用/禁用）

**主要文件：**
- `src/views/admin/CategoryManagement.vue`

### 3.8 预约管理

**功能：**
- 预约列表展示（分页、搜索、筛选）
- 预约详情查看
- 预约状态管理（待确认、已确认、已完成、已取消、已改期）
- 预约改期处理

**主要文件：**
- `src/views/admin/AppointmentManagement.vue`

## 4. API服务

系统提供了统一的API服务模块，封装了与后端的交互逻辑：

**主要文件：**
- `src/api/admin.js`

**包含的API服务：**
- `userAPI` - 用户管理相关API
- `counselorAPI` - 咨询师管理相关API
- `courseAPI` - 课程管理相关API
- `orderAPI` - 订单管理相关API
- `announcementAPI` - 公告管理相关API
- `reviewAPI` - 评价管理相关API
- `categoryAPI` - 分类管理相关API
- `appointmentAPI` - 预约管理相关API
- `roleAPI` - 角色管理相关API
- `menuAPI` - 菜单管理相关API
- `statsAPI` - 统计分析相关API
- `settingAPI` - 系统设置相关API
- `uploadAPI` - 文件上传相关API
- `authAPI` - 认证相关API

## 5. 路由配置

系统路由配置位于 `src/router/index.js`，主要包括：

- `/login` - 登录页面
- `/` - 首页（仪表盘）
- `/admin/users` - 用户管理页面
- `/admin/counselors` - 咨询师管理页面
- `/admin/courses` - 课程管理页面
- `/admin/orders` - 订单管理页面
- `/admin/announcements` - 公告管理页面
- `/admin/reviews` - 评价管理页面
- `/admin/categories` - 分类管理页面
- `/admin/appointments` - 预约管理页面

## 6. 使用说明

### 6.1 登录系统

1. 访问系统登录页面 `/login`
2. 输入用户名和密码
3. 点击登录按钮

### 6.2 首页导航

登录成功后，会进入系统首页，首页提供了快捷导航卡片，可以快速进入各个管理模块。

### 6.3 数据管理

各个管理模块的操作流程基本一致：

1. 列表查看：进入对应管理页面，可以查看数据列表
2. 搜索筛选：使用搜索框和筛选条件过滤数据
3. 添加数据：点击"添加"按钮，填写表单，提交创建
4. 编辑数据：点击数据行的"编辑"按钮，修改信息后提交
5. 删除数据：点击数据行的"删除"按钮，确认后删除
6. 查看详情：点击数据行的"查看"按钮，查看详细信息

### 6.4 状态管理

多数管理模块都支持状态管理：

- 用户/咨询师：可以启用/禁用账号
- 课程/公告：可以设置为草稿、发布或归档状态
- 评价：可以审核通过或拒绝
- 预约：可以确认、完成、取消或改期

## 7. 开发扩展

### 7.1 添加新的管理模块

1. 在 `src/views/admin/` 下创建新的Vue组件
2. 在 `src/api/admin.js` 中添加相应的API服务
3. 在 `src/router/index.js` 中添加路由配置
4. 在首页 `src/views/Home.vue` 中添加导航卡片

### 7.2 修改现有功能

各功能模块采用组件化开发，可以方便地进行修改和扩展：

- 表单验证规则在组件的 `setup()` 函数中的 `xxxFormRules` 对象中定义
- 表格列配置在组件的 `setup()` 函数中的 `columns` 数组中定义
- API调用封装在 `src/api/admin.js` 中，可以根据后端接口变化进行调整

## 8. 注意事项

- 所有表单提交前都会进行前端验证
- 文件上传（如头像、封面）支持图片预览
- 系统使用JWT进行身份验证，token存储在localStorage中
- 未登录或token过期会自动跳转到登录页面 